<div class="card">
  <h5 class="card-header bg-secondary">{{ pageTitle }}</h5>
  <div class="card-body">
    <div
      *ngIf="imageURL && imageURL.value.length > 0"
      class="mx-auto my-2"
      style="width:200px;"
    >
      <img class="img-fluid rounded-circle" [src]="imageURL.value" alt="" />
    </div>
    <form #form="ngForm" (ngSubmit)="onAddFormSubmitted(form)">
      <div class="row">
        <div class="col-sm-6">
          <div class="form-group">
            <label for="productname">Product Name</label>
            <input
              type="text"
              class="form-control"
              name="productname"
              id="productname"
              placeholder="Enter product name"
              #productname="ngModel"
              [(ngModel)]="newProduct.productName"
              required
            />

            <span
              class="text-danger"
              *ngIf="productname.invalid && productname.touched"
              >Product name is required</span
            >
          </div>
          <div class="form-group">
            <label for="productname">Product Code</label>
            <input
              type="text"
              class="form-control"
              name="productcode"
              id="productcode"
              placeholder="Enter product code"
              #productcode="ngModel"
              [(ngModel)]="newProduct.productCode"
              required
            />

            <span
              class="text-danger"
              *ngIf="productcode.invalid && productcode.touched"
              >product code is required</span
            >
          </div>

          <div class="form-group">
            <label for="productdate">Product Release Date</label>
            <input
              type="date"
              class="form-control"
              name="productdate"
              id="productdate"
              placeholder="Enter product release date"
              #productdate="ngModel"
              [(ngModel)]="newProduct.releaseDate"
              required
            />

            <span
              class="text-danger"
              *ngIf="productdate.invalid && productdate.touched"
              >Release date is required</span
            >
          </div>
          <div class="form-group">
            <label for="price">Product Price</label>
            <input
              type="number"
              class="form-control w-25"
              name="price"
              id="price"
              #productprice="ngModel"
              min="0"
              [(ngModel)]="newProduct.price"
              required
              placeholder="price"
            />

            <span
              class="text-danger"
              *ngIf="
                (productprice.invalid && productprice.touched) ||
                (productprice.touched && productprice.value == 0)
              "
              >product price is required
            </span>
          </div>

          <div class="form-group">
            <label for="rate">Product Rate</label>
            <input
              type="number"
              class="form-control w-25"
              name="rate"
              id="rate"
              #productrate="ngModel"
              min="0"
              max="5"
              step="0.1"
              [(ngModel)]="newProduct.starRating"
              required
              placeholder="rate"
            />

            <span
              class="text-danger"
              *ngIf="
                (productrate.invalid && productrate.touched) ||
                (productrate.touched && productrate.value == 0)
              "
              >product rate is required
            </span>
          </div>
        </div>

        <div class="col-sm-6">
          <div class="form-group">
            <label for="description">Product Description</label>
            <textarea
              class="form-control"
              name="description"
              id="description"
              cols="30"
              rows="8"
              placeholder="Enter product description"
              #productdescription="ngModel"
              [(ngModel)]="newProduct.description"
              #x
              required
              maxlength="200"
              (keyup)="onkeyup(x)"
            ></textarea>

            <span [ngClass]="{ 'text-danger': x.value.length === x.maxLength }"
              >{{ x.value.length }}/ {{ x.maxLength }}</span
            >
            <span
              class="text-danger d-block"
              *ngIf="productdescription.invalid && productdescription.touched"
              >product description is required
            </span>
          </div>

          <div class="form-group">
            <label for="image">Product Image URL</label>
            <input
              class="form-control"
              name="image"
              id="image"
              placeholder="Enter image url"
              #productimage="ngModel"
              #imageURL
              [(ngModel)]="newProduct.imageUrl"
              required
            />
            <span
              class="text-danger"
              *ngIf="productimage.invalid && productimage.touched"
              >product Image URL is required
            </span>
          </div>
        </div>
      </div>

      <input
        type="submit"
        class="btn btn-primary"
        value="Add Product"
        [disabled]="form.invalid"
      />
    </form>
  </div>
</div>
